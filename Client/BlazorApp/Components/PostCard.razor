@using ApiContracts.Posts
@namespace BlazorApp.Components

<div class="card mb-3 post-card">
  <div class="card-body">
    <a class="h5 text-decoration-none" href="/posts/@Post.Id">@Post.Title</a>
    <div class="text-muted small mb-2">
      by @(string.IsNullOrWhiteSpace(Post.AuthorName) ? "Unknown" : Post.AuthorName)
    </div>

    @if (!string.IsNullOrWhiteSpace(Preview))
    {
      <div class="mb-3">@Preview</div>
    }
    else
    {
      <div class="mb-3 text-muted">(no body)</div>
    }

    <div class="d-flex gap-2 align-items-center">
      <a class="btn btn-brand btn-sm" href="/posts/@Post.Id">See full post</a>
      <span class="badge rounded-pill badge-brand">
        @CommentCount comment@(CommentCount == 1 ? "" : "s")
      </span>
    </div>
  </div>
</div>

@code {
  [Parameter] public required PostSummaryDto Post { get; set; }
  [Parameter] public string? Preview { get; set; }
  [Parameter] public int CommentCount { get; set; }
}
